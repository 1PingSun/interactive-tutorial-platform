# Task 2 - 網路概要：掃描並識別網路設備（Network Reconnaissance）

## 網路偵察概述

在工控滲透測試中，網路偵察是第一步，目的是識別和映射目標網路中的設備。

## 常見工控協議埠號

### Modbus TCP
- **埠號**：502
- **用途**：工業設備通訊
- **特點**：主從架構

### EtherNet/IP
- **埠號**：44818
- **用途**：工業乙太網路協議
- **特點**：基於 CIP 協議

### OPC UA
- **埠號**：4840
- **用途**：資料交換標準
- **特點**：跨平台相容

## Nmap 掃描技巧

### 基本掃描指令
```bash
# 掃描常見 OT 協議埠
nmap -p 502,20000,44818 192.168.1.0/24

# 服務版本偵測
nmap -sV -p 502 192.168.1.100

# 腳本掃描
nmap --script modbus-info -p 502 192.168.1.100
```

### 設備識別
- **Modicon M340**：施耐德電機 PLC
- **Siemens S7**：西門子 PLC
- **Allen-Bradley**：羅克韋爾自動化設備

## 網路拓撲分析

工控網路通常採用：
1. **星型拓撲**：集中式控制
2. **環型拓撲**：冗餘設計
3. **樹狀拓撲**：分層管理

## 安全注意事項

- 避免對生產系統進行過度掃描
- 使用非侵入式偵察技術
- 記錄所有掃描活動